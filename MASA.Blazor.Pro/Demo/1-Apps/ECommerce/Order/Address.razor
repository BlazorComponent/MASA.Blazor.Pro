<MRow style="height: calc(100vh - 204px);">
    <MCol Md="8">
        <MCard class="pa-2 fill-height d-flex flex-column justify-space-between">
            <MCardTitle class="text-h6 neutral-lighten-1--text">
                Add New Address
            </MCardTitle>
            <MCardSubtitle class="text-body neutral-lighten-4--text">
                Be sure to check "Deliver to this address" when you have finished
            </MCardSubtitle>
            <MCardText class="pl-4 pr-4 mt-2">
                <MForm Model="_address" @bind-Value="_valid" @ref="_form" EnableDataAnnotationsValidation>
                    <MRow>
                        <MCol Md="6" class="pb-0">
                            <MTextField @bind-Value="_address.FullName" class="neutral-lighten-4--text"
                                        Label="Full Name" Outlined Dense></MTextField>
                        </MCol>
                        <MCol Md="6" class="pl-3">
                            <MTextField @bind-Value="_address.MobileNumber" class="neutral-lighten-4--text"
                                        Label="Mobile Number" Outlined Dense></MTextField>
                        </MCol>
                        <MCol Md="6">
                            <MTextField @bind-Value="_address.HouseNo" class="neutral-lighten-4--text"
                                        Label="Flat, House No" Outlined Dense></MTextField>
                        </MCol>
                        <MCol Md="6" class="pl-3">
                            <MTextField @bind-Value="_address.Landmark" class="neutral-lighten-4--text"
                                        Label="Landmark" Outlined Dense></MTextField>
                        </MCol>
                        <MCol Md="6">
                            <MTextField @bind-Value="_address.City" class="neutral-lighten-4--text"
                                        Label="Town/City" Outlined Dense></MTextField>
                        </MCol>
                        <MCol Md="6" class="pl-3">
                            <MTextField @bind-Value="_address.Pincode" class="neutral-lighten-4--text"
                                        Label="Pincode" Outlined Dense></MTextField>
                        </MCol>
                        <MCol Md="6">
                            <MTextField @bind-Value="_address.State" class="neutral-lighten-4--text"
                                        Label="State" Outlined Dense></MTextField>
                        </MCol>
                        <MCol Md="6" class="pl-3">
                            <MSelect @bind-Value="@_address.AddressType" class="neutral-lighten-4--text"
                                     Label="Address Type"
                                     Outlined Dense
                                     Items="@_items"
                                     ItemText="u => u.Label"
                                     ItemValue="u => u.Value">
                            </MSelect>
                        </MCol>
                    </MRow>
                </MForm>
            </MCardText>
            <MCardActions class="d-flex justify-center mb-10">
                <MButton Depressed Large Width="340" class="primary text-capitalize rounded-pill" OnClick="AddressForm">
                    Save and Deliver Here
                </MButton>
            </MCardActions>
        </MCard>
    </MCol>
    <MCol Md="4">
        <MCard class="pa-2 fill-height d-flex flex-column justify-space-between">
            <MCardTitle class="text-h6">
                John Doe
            </MCardTitle>
            <MCardText class="pl-4 pr-4 mt-2">
                <p class="text-btn neutral-lighten-1--text mb-6">9447 Glen Eagles Drive</p>
                <p class="text-btn neutral-lighten-1--text mb-6">Lewis Center, OH 43035</p>
                <p class="text-btn neutral-lighten-1--text mb-6">UTC-5: Eastern Standard Time (EST)</p>
                <p class="text-btn neutral-lighten-1--text">202-555-0140</p>
            </MCardText>
            <MCardActions class="d-flex justify-center mb-10">
                <MButton Depressed Large class="primary text-capitalize rounded-pill" Width="340" OnClick="()=>{ StepChanged.InvokeAsync(2);DisabledChanged.InvokeAsync(false); }">
                    Deliver To This Address
                </MButton>
            </MCardActions>
        </MCard>
    </MCol>
</MRow>

@code {
    bool _valid = true;
    MForm _form;
    AddressModel _address = new();
    List<AddressType> _items = new()
        {
            new AddressType("Home", "1"),
            new AddressType("Work", "2")
        };
    [Parameter]
    public StringNumber Step { get; set; } = default!;
    [Parameter]
    public EventCallback<StringNumber> StepChanged { get; set; }
    [Parameter]
    public bool Disabled { get; set; }
    [Parameter]
    public EventCallback<bool> DisabledChanged { get; set; }

    private async void AddressForm()
    {
        await _form.ValidateAsync();
        if (_valid)
        {
            StepChanged.InvokeAsync(3);
        }
    }
}